// mod_VOIP_RxFullbandAGC.cfg

{
   "Module Type" :  "AGC", //"RxFullbandAGC",

   "txPath" : false,

   "numBands" : 128,
   "frameLength" : 128,
   "sampleRate" : 16000,
   "channelCount" : 1,

   "bypass" : false,
   "targetLeveldB" : -11, //-12, //-11,    // in dB
   "constantGaindB" : 6, //7,         // in dB
   "gainSmoothingFactor" : 0.01, //smoothing applied right before the dB gain is converted to linear

   "noiseGainDecayRate" : 0.0002,
   "noiseAdditionalAttenuatedB" : 0,

   // Gain limiting
   "maxGaindB" : 20, //18, //16,
   "minGaindB" : -22, //-23,
   "maxGainIncRate" : 500,    // centi-dB/sec
   "maxGainDecRate" : 500,    // centi-dB/sec

   "SNRSmoothingConstant" : 0.001,
   "SNRThreshold4GainAdjstdB" : 10,

   // Compressor settings
   "compressorAttack" : 0.6,
   "compressorDecay"  : 0.09,
   "compressorThresholdDB"  : -5.5, //-5.0, //-6.0,
   "compressorRatio"  : 6.0, //5.0, //10.0,

   "resAveGainThresh" : 0.1, // dummy

   // Long-term RMS tracking parameters
   "rmsAttack" : 0.05,
   "rmsFastAttack" : 0.1,
   "rmsAttackEventLimit" : 10,
   "rmsDecay" : 0.0002,
   "rmsFastDecay" : 0.001,
   "rmsDecayEventLimitShort" : 4,
   "rmsDecayEventLimitLong" : 80,
   "VAD0CountThreshold" : 200,

   // VAD parameters
   "envAttack" : 0.97,
   "envDecay" : 0.008,
   "envFastDecay" : 1.0,
   "envCountLim" : 2,
   "VADThresholddB" : 10.0,
   "minFloordB" : -90,
   "minSignaldB" : -70,
   "noiseAttackRateSlow" : 0.0005,
   "noiseAttackRateFast" : 0.0015,
   "noiseAttackCountThrshld" : 100,
   "noiseReleaseRate" : 0.04,


   "lengthVolTable" : 26,
   "voiceCallVolTable":
     [ -200.0,                                  // volume   0
       -30.0,  -29.0,  -27.5,  -25.5,   -24.0,  // volumes  1 to  5
       -21.5,  -19.5,  -17.0,  -15.5,   -14.0,  // volumes  6 to 10
       -12.5,  -11.5,  -10.0,   -9.0,    -8.5,  // volumes 11 to 15
        -7.5,   -6.5,   -5.5,   -4.5,    -3.5,  // volumes 16 to 20
        -2.5,   -2.0,   -1.0,   -0.5,     0.0   // volumes 21 to 25
     ]
}
